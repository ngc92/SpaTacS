- unify random
- sort energy management code
- separate shield and shield generator